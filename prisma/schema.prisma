generator client {
  provider = "prisma-client-js"
  output   = "../src/generated/prisma"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model access_level {
  id   Int    @id @default(autoincrement())
  name String @db.VarChar(1024)
}

model payment {
  id            Int     @id @default(autoincrement())
  number        BigInt
  id_account    Int?
  file          String? @db.VarChar(255)
  emiter        String  @db.VarChar(255)
  destine       String  @db.VarChar(255)
  email_destine String? @db.VarChar(150)
  method        Int
  observation   String  @db.VarChar(2048)
  income        Int     @db.TinyInt
  serie         Int?

  @@unique([number, emiter, serie], map: "UNIQUE_NUMBER")
}

model wp_users {
  ID                  BigInt   @id @default(autoincrement()) @db.UnsignedBigInt
  user_login          String   @default("") @db.VarChar(60)
  user_pass           String   @default("") @db.VarChar(255)
  user_nicename       String   @default("") @db.VarChar(50)
  user_email          String   @default("") @db.VarChar(100)
  user_url            String   @default("") @db.VarChar(100)
  user_registered     DateTime @default(dbgenerated("'0000-00-00 00:00:00'")) @db.DateTime(0)
  user_activation_key String   @default("") @db.VarChar(255)
  user_status         Int      @default(0)
  display_name        String   @default("") @db.VarChar(250)
  access_level        Int      @default(1)

  @@index([user_email], map: "user_email")
  @@index([user_login], map: "user_login_key")
  @@index([user_nicename], map: "user_nicename")
}

model account {
  id   Int    @id @default(autoincrement())
  code Int
  name String @db.VarChar(255)
}

model account_value {
  id         Int      @id @default(autoincrement())
  id_account Int
  id_user    Int
  value      Float    @db.Float
  old_value  Float    @db.Float
  date       DateTime @db.DateTime(0)
}

model balcony_branch {
  id        Int @id @default(autoincrement())
  id_user   Int
  id_branch Int
}

model balcony_values {
  id                Int      @id @default(autoincrement())
  user_id           Int
  branch_office_id  Int
  insert_date       DateTime @db.DateTime(0)
  card              Float
  cash              Float
  pix               Float
  user_last_changed Int?
}

model branch_office {
  id   Int    @id @default(autoincrement())
  name String @db.VarChar(255)
}

model closure {
  id               Int      @id @default(autoincrement())
  increase         Float
  removed          Float
  branch_office_id Int
  date             DateTime @db.DateTime(0)
}

model expense {
  id               Int       @id @default(autoincrement())
  branch_office_id Int?
  provider         String    @db.VarChar(255)
  value            Float     @db.Float
  payment_date     DateTime? @db.Date
  approved_date    DateTime? @db.Date
  description      String?   @db.Text
  status           Int       @db.TinyInt
  expense_type     Int       @db.TinyInt
  category         Int?
}

model expense_type {
  id   Int    @id @default(autoincrement())
  name String @db.VarChar(255)
}

model hands_balance {
  id    Int      @id @default(autoincrement())
  name  String   @db.VarChar(255)
  value Float    @db.Float
  date  DateTime @db.DateTime(0)
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model imports {
  number Int

  @@ignore
}

model income {
  id    Int    @id @default(autoincrement())
  value Int
  name  String @db.VarChar(75)
}

model login {
  id       Int    @id @default(autoincrement())
  name     String @db.VarChar(255)
  user     String @db.VarChar(255)
  password String @db.VarChar(255)
  sistem   String @db.VarChar(255)
}

model payment_date {
  id            Int       @id @default(autoincrement())
  id_payment    Int
  number        BigInt
  parcel_value  Float     @db.Float
  parcel_date   DateTime  @db.Date
  approved_date DateTime? @db.Date
  status        Int       @db.TinyInt
  insert_date   DateTime? @db.DateTime(0)
  inserted_by   Int?
}

model payment_method {
  id   Int    @id @default(autoincrement())
  code Int
  name String @db.VarChar(155)
}

model payment_status {
  id   Int    @id
  code Int
  name String @db.VarChar(75)
}

model payment_xml_log {
  id             Int       @id @default(autoincrement())
  chave_acesso   String    @db.VarChar(50)
  numero_nfe     String?   @db.VarChar(20)
  emiter         String?   @db.VarChar(255)
  destine        String?   @db.VarChar(255)
  payment_method String?   @db.VarChar(10)
  parcel_value   String?   @db.Text
  parcel_date    String?   @db.Text
  observation    String?   @db.Text
  xml_content    String?   @db.LongText
  error_message  String?   @db.Text
  created_at     DateTime? @default(now()) @db.DateTime(0)
}

model permissions {
  code Int    @id @default(autoincrement())
  name String @db.VarChar(155)
}

model prevision_registred {
  id         Int      @id @default(autoincrement())
  year_month DateTime @db.Date
  value      Float?   @db.Float
  accounts   String   @db.VarChar(100)
}

model product {
  id           Int    @id @default(autoincrement())
  code         String @db.VarChar(20)
  name         String @db.VarChar(255)
  description  String @db.VarChar(255)
  value_sistem Int
  value_web    Int
  shipping     Int
  marcap       Int
  value_exit   Int
  link         String @db.Text
}

model table_save {
  id      Int      @id @default(autoincrement())
  id_user Int
  date    DateTime @db.DateTime(0)
  data    String   @db.MediumText
}

model tiny_order_products {
  id          Int         @id @default(autoincrement()) @db.UnsignedInt
  pedido_id   BigInt      @db.UnsignedBigInt
  produto_id  BigInt      @db.UnsignedBigInt
  codigo      String?     @db.VarChar(100)
  nome        String?     @db.VarChar(255)
  categoria   String?     @db.VarChar(255)
  preco       Decimal?    @db.Decimal(15, 2)
  preco_custo Decimal?    @db.Decimal(15, 2)
  quantidade  Decimal     @default(1.000) @db.Decimal(15, 3)
  created_at  DateTime    @default(now()) @db.DateTime(0)
  tiny_orders tiny_orders @relation(fields: [pedido_id], references: [pedido_id], onDelete: Cascade, map: "fk_tiny_order_products_pedido")

  @@unique([pedido_id, produto_id], map: "uk_tiny_order_products_pedido_produto")
  @@index([produto_id], map: "idx_tiny_order_products_produto")
}

model tiny_orders {
  id                  Int                   @id @default(autoincrement()) @db.UnsignedInt
  pedido_id           BigInt                @unique(map: "uk_tiny_orders_pedido_id") @db.UnsignedBigInt
  numero_pedido       String?               @db.VarChar(50)
  total_pedido        Decimal?              @db.Decimal(15, 2)
  id_vendedor         BigInt?               @db.UnsignedBigInt
  nome_vendedor       String?               @db.VarChar(150)
  forma_pagamento     String?               @db.VarChar(100)
  deposito            String?               @db.VarChar(100)
  cliente_nome        String?               @db.VarChar(200)
  full_response       Json?
  created_at          DateTime              @db.DateTime(0)
  updated_at          DateTime?             @db.DateTime(0)
  tiny_order_products tiny_order_products[]

  @@index([cliente_nome], map: "idx_tiny_orders_cliente")
  @@index([numero_pedido], map: "idx_tiny_orders_numero")
  @@index([id_vendedor], map: "idx_tiny_orders_vendedor")
}

model tiny_raw_logs {
  id          Int      @id @default(autoincrement())
  method      String?  @db.VarChar(10)
  headers     String?  @db.Text
  body        String?  @db.LongText
  ip_address  String?  @db.VarChar(45)
  user_agent  String?  @db.VarChar(255)
  received_at DateTime @db.DateTime(0)
}

model tiny_webhooks {
  id          Int      @id @default(autoincrement())
  payload     Json
  received_at DateTime @db.DateTime(0)
}

model user_branch {
  id        Int @id @default(autoincrement())
  id_user   Int
  id_branch Int
}
